{% extends 'base.html' %}

{% block content %}
    <h2>Edit Task</h2>
    <form method="post">
        <label for="task_title">Task Title</label><br>
        <input type="text" name="task_title" value="{{ task['task_title'] }}" required style="width: 300px;">
        <br><br>
        
        <label for="description">Description</label><br>
        <textarea name="description" rows="4" style="width: 300px;">{{ task['description'] }}</textarea>
        <br><br>

        <label for="assignee_id">Assign To</label><br>
        <select name="assignee_id" style="width: 308px; padding: 5px;">
            <option value="">-- Unassigned --</option>
            {% for member in members %}
                <option value="{{ member['user_id'] }}" {% if task['assignee_id'] == member['user_id'] %}selected{% endif %}>
                    {{ member['username'] }}
                </option>
            {% endfor %}
        </select>
        <br><br>

        <label for="status">Status</label><br>
        <select name="status" style="width: 308px; padding: 5px;">
            <option value="To-Do" {% if task['status'] == 'To-Do' %}selected{% endif %}>To-Do</option>
            <option value="In-Progress" {% if task['status'] == 'In-Progress' %}selected{% endif %}>In-Progress</option>
            <option value="Done" {% if task['status'] == 'Done' %}selected{% endif %}>Done</option>
        </select>
        <br><br>

        <label for="due_date">Due Date</label><br>
        <input type="date" name="due_date" value="{{ task['due_date'] }}" style="width: 300px;">
        <br><br>

        <button type="submit" style="background-color: #007bff; color: white; padding: 10px 20px; border: none; cursor: pointer;">Save Changes</button>
        <a href="{{ url_for('view_project', project_id=task['project_id']) }}" style="margin-left: 10px;">Cancel</a>
    </form>
{% endblock %}